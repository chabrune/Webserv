
server {
    listen 80
    return localhost:8080
}

server {
    listen 8080
    server_name localhost
    root experiment/expe_ali/site
    client_max_body_size 3000000
    index index.html
    error_page 404 error_pages/404.html
    cgi .py ./test/py-cgi
    autoindex off
    allow GET POST DELETE
    location / {
        allow_methods DELETE POST GET
        autoindex off
    }
    
    location /data {
        autoindex on
        index tours1.html
        allow_methods GET POST PUT HEAD
        error_page 404 error_pages/404.html
        client_max_body_size 3000000
    }

    location /red {
        return /tours
    }

    location /cgi-bin {
        root /tmp/prout
        allow_methods GET POST DELETE
        index time.py
        cgi_path /usr/bin/python3 /bin/bash
        cgi_ext .py
    }
}